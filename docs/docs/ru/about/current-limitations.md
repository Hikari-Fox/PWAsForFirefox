# Текущие ограничения

<style>
.md-typeset h2 {
  font-size: .845rem;
  font-weight: 700;
}
</style>

Это вещи, которые я хотел бы исправить в конечном итоге, но которые в настоящее время остаются, либо потому, что их слишком трудно исправить, я не знаю, как их исправить, либо это потребует изменения исходного кода Firefox. Вы можете проверить полный список проблем на странице [GitHub Projects][link-projects]. Я буду признателен за любую помощь в их исправлении.

## Все веб-приложения объединяются с первым, которое было открыто (macOS) {: id="все_веб-приложения_объединяются_с_первым_которое_было_открыто_macos"}

Когда какое-либо веб-приложение уже запущено, все вновь запущенные веб-приложения будут объединены с ним и останутся объединенными, пока все они не будут закрыты. Это приведёт к тому, что меню приложений будет отображать все веб-приложения как часть первого веб-приложения, которое было запущено, с его иконкой и действиями на рабочем столе.

Это происходит потому, что Apple позволяет процессу быть связанным только с одним приложением в любое время. Возможно, это можно решить, используя IPC-соединение между хост-процессом и основным процессом выполнения Firefox, так же, как родительский процесс Firefox обрабатывает свои процессы контента. Это всего лишь дикая теория, и её нужно будет исследовать дальше.

Эту проблему можно предотвратить, установив каждое веб-приложение в отдельный профиль, что является поведением по умолчанию на macOS.

Проверьте [этот комментарий][link-merged-comment] и связанные обсуждения для идей и возможных решений для исправления этого. Эта проблема отслеживается как проблема [#81][link-merged-issue].

## Расширение не может обнаружить нативную программу при использовании песочницы Firefox (Linux Flatpak) {: id="расширение_не_может_обнаружить_нативную_программу_при_использовании_песочницы_firefox_linux_flatpak"}

При использовании Firefox, распространяемого в виде пакета Flatpak, расширение не может обнаружить используемую нативную программу. Это происходит потому, что пакеты Flatpak изолированы и не могут получать доступ/запускать другие программы, что необходимо для API нативного обмена сообщениями. Это не может быть исправлено, пока API нативного обмена сообщениями не получит поддержку для работы в песочницах браузеров.

Обходным решением является удаление Firefox на базе Flatpak и установка обычного пакета DEB. См. [#76][link-flatpak-issue] для получения дополнительных сведений.

Ранее эта проблема также присутствовала в Snap, но была недавно исправлена. Если вы всё ещё не можете обнаружить нативную программу, вы можете ознакомиться с [посвящённой записью в ЧАВО](../help/faq.md#почему_расширение_не_может_обнаружить_нативную_программу_на_linux) о распространённых проблемах в Linux.

## Веб-приложения не запоминают предыдущие позиции окон и не восстанавливают сессии {: id="веб-приложения_не_запоминают_предыдущие_позиции_окон_и_не_восстанавливают_сессии"}

Когда несколько веб-приложений установлены в одном профиле, отдельные веб-приложения не запоминают свои предыдущие позиции и размеры окон. Это затрудняет автоматическое открытие веб-приложения с определённой позицией и размером окна.

Это происходит потому, что Firefox отслеживает позиции окон глобально (по профилю), и трудно изменить это, используя только скрипты UserChrome. См. [#256][link-session-issue] для получения дополнительных сведений.

Обходным решением является установка каждого веб-приложения в отдельный профиль.

[link-projects]: https://github.com/users/filips123/projects/1/views/1?filterQuery=status%3A%22On+Hold%22
[link-merged-comment]: https://github.com/filips123/PWAsForFirefox/issues/33#issuecomment-888511078
[link-merged-issue]: https://github.com/filips123/PWAsForFirefox/issues/81
[link-flatpak-issue]: https://github.com/filips123/PWAsForFirefox/issues/76
[link-session-issue]: https://github.com/filips123/PWAsForFirefox/issues/256
