# Руководство по браузеру

Этот раздел описывает функции браузера приложений (настраиваемая версия Firefox, которая запускает
установленные веб-приложения). Большинство существующих функций Firefox доступны, хотя и с некоторыми
отличиями, но проект также добавляет новые функции для улучшения пользовательского опыта.

## Использование браузера приложений

### Использование веб-приложений

Когда вы запускаете веб-приложение (например, из меню запуска системы), оно автоматически открывается в браузере приложений. Вам не нужно делать ничего особенного.

По умолчанию, когда вы переходите на веб-сайт, который находится вне области текущего веб-приложения, браузер отображает отключенную адресную строку с текущим URL. Это используется по соображениям безопасности, чтобы вы знали, что вы больше не находитесь в оригинальном веб-приложении. Это поведение можно изменить в настройках (см. ниже раздел с параметрами конфигурации).

### Использование функций Firefox

Большинство встроенных стандартных функций Firefox по-прежнему доступны, включая поддержку дополнений. Основные отличия заключаются в том, что основная кнопка меню Firefox и стандартные виджеты были перемещены в заголовок, а вкладки и адресная строка по умолчанию скрыты.

Функции, которые требуют ввода URL напрямую (такие как `about:config`), могут быть использованы, перейдя по URL (см. ниже инструкции по вводу URL).

Дополнения могут быть установлены из встроенного менеджера дополнений Firefox (который можно открыть с помощью сочетания клавиш или из меню Firefox) или вручную, перейдя по URL магазина дополнений (см. ниже инструкции по вводу URL).

### Навигация по произвольным URL

Вы можете открыть базовое всплывающее окно ввода URL, нажав ++f6++, ++ctrl+l++ или ++alt+d++. Вы можете перейти по любому URL, включая встроенные, такие как `about:config`. Пожалуйста, имейте в виду, что автозаполнение и функция поиска не поддерживаются.

## Дополнительные виджеты панели инструментов

Браузер приложения предоставляет дополнительные виджеты панели инструментов, которые могут быть использованы для дополнительных функций или предоставляют альтернативу существующим, теперь скрытым виджетам. Некоторые из них включены по умолчанию, другие могут быть включены на странице настройки Firefox.

### Информация о сайте

Включено по умолчанию, отключить нельзя. Предоставляет информацию о сайте, которая в противном случае отображалась бы в адресной строке.

### Разрешения сайта

Включено по умолчанию, отключить нельзя. Предоставляет список разрешений, предоставленных текущему сайту, которые в противном случае отображались бы в адресной строке.

### Уведомления сайта

Включено по умолчанию, отключить нельзя. Предоставляет доступ к всплывающим окнам от сайтов, запрашивающих дополнительные разрешения.

### Защита от отслеживания

Включено по умолчанию. Предоставляет доступ к всплывающему окну защиты от отслеживания, которое в противном случае было бы доступно из адресной строки.

### Переключение звука

Включено по умолчанию. Предоставляет поддержку переключения звука на странице, что в противном случае было бы возможно из значка вкладки.

### Режим чтения

Включает или отключает режим чтения для текущей страницы.

### Копировать ссылку

Копирует текущий URL в буфер обмена.

### Поделиться ссылкой

Делится текущим URL с использованием системной функции обмена.

### Отправить на устройство

Отправляет текущий URL на другое устройство с использованием учетной записи Firefox.

### Открыть в браузере

Открывает текущий URL в системном браузере по умолчанию.

## Дополнительные сочетания клавиш

### ++ctrl+shift+n++

Открывает новое окно в системном браузере по умолчанию.

### ++ctrl+alt++

Переключает панель значков (если скрытие включено в настройках).

## Дополнительные элементы контекстного меню

### Открыть ссылку в браузере по умолчанию

Открывает ссылку в системном браузере по умолчанию. Отображается только при нажатии на ссылки.

## Параметры конфигурации

!!! tip

    Эти настройки можно получить в том же месте, что и стандартные настройки Firefox в браузере приложения: в окне веб-приложения нажмите на кнопку гамбургер-меню в правом верхнем углу и откройте настройки. Кроме того, их также можно получить из `about:config`.

!!! tip

    Вам может потребоваться перезапустить браузер приложения, чтобы некоторые параметры конфигурации вступили в силу.

<!-- Раздел: Цвета -->

### Разрешить веб-приложениям переопределять цвет темы (цвет заголовка)

Определяет, могут ли веб-приложения переопределять цвет темы (цвет заголовка) окна.

На большинстве систем он правильно устанавливает цвет темы на цвет, указанный в манифесте. Однако это может вызвать проблемы на некоторых Linux DE, поэтому вам может потребоваться отключить его.

* Название параметра: `firefoxpwa.sitesSetThemeColor`
* Значение по умолчанию: `true`

### Разрешить веб-приложениям переопределять цвет фона (цвет окна)

Определяет, могут ли веб-приложения переопределять цвет фона окна.

На большинстве веб-сайтов он правильно устанавливает цвет фона на цвет, указанный в манифесте. Однако это может вызвать проблемы на некоторых веб-сайтах, поэтому вам может потребоваться отключить его.

* Название параметра: `firefoxpwa.sitesSetBackgroundColor`
* Значение по умолчанию: `true`

### Разрешить веб-приложениям динамически изменять цвет темы

Определяет, могут ли веб-приложения динамически изменять цвет темы с помощью тегов `meta`.

* Название параметра: `firefoxpwa.dynamicThemeColor`
* Значение по умолчанию: `true`

<!-- Раздел: Заголовок -->

### Изменить заголовок окна в зависимости от заголовка веб-приложения

Определяет, изменяется ли заголовок окна динамически в зависимости от заголовка веб-приложения.

* Название параметра: `firefoxpwa.dynamicWindowTitle`
* Значение по умолчанию: `true`

### Изменить значок окна в зависимости от значка веб-приложения

Определяет, изменяется ли значок окна динамически в зависимости от значка веб-приложения.

* Название параметра: `firefoxpwa.dynamicWindowIcon`
* Значение по умолчанию: `true`

### Всегда использовать нативные элементы управления окнами (только для Linux)

Определяет, должны ли нативные элементы управления окнами отображаться даже при использовании тем Firefox. Отображается и используется только на Linux с включенным CSD.

* Имя параметра: `firefoxpwa.alwaysUseNativeWindowControls`
* Значение по умолчанию: `false`

<!-- Section: User Experience -->

### Открывать URL-адреса вне области в браузере по умолчанию

Определяет, должны ли URL-адреса вне области открываться в браузере по умолчанию.

Включение этой опции автоматически закроет окно веб-приложения и откроет любые URL-адреса вне области в системном браузере по умолчанию. Это может вызвать проблемы на некоторых веб-сайтах, особенно на тех, которые используют SSO (такие как Google, YouTube, Spotify, Outlook). В таких случаях рекомендуется использовать это в сочетании с [доменам всегда разрешено для открытия открываться в браузере приложений](#domains-always-allowed-to-be-opened-in-the-app-browser).

* Имя параметра: `firefoxpwa.openOutOfScopeInDefaultBrowser`
* Значение по умолчанию: `false`

### Доменам всегда разрешено открываться в браузере приложения

Определяет, какие домены всегда должны открываться в браузере приложения.

Эта опция может быть использована для того, чтобы всегда загружать определённый домен в браузере приложения, даже если URL-адрес вне области. Это может быть полезно для веб-сайтов, которые не работают должным образом с [предыдущей опцией](#open-out-of-scope-urls-in-a-default-browser) включенной. Она имеет эффект только тогда, когда эта опция также включена.

Значение должно быть списком доменов, разделённых запятыми (без протокола и пути). Символ подстановки `*` может соответствовать нулю или более символам. Символ подстановки можно экранировать, используя `\*`.

* Имя параметра: `firefoxpwa.allowedDomains`
* Значение по умолчанию: `""`

!!! tip

    Вы можете проверить [список рекомендуемых значений](../resources/specific-website-tips.md#websites-with-multiple-domains)
    для некоторых популярных веб-сайтов.

### Показать вкладки браузера и включить использование многовкладочных веб-приложений

Определяет, включен ли режим вкладок.

Включение этой опции заставит браузер приложения отображать вкладки, аналогично обычному браузеру, но без адресной строки. Это также повторно включит сочетания клавиш и элементы меню для новых вкладок и заменит страницу новой вкладки на URL-адрес запуска веб-приложения. Это позволит вам использовать несколько вкладок одного и того же веб-приложения в одном окне.

* Имя параметра: `firefoxpwa.enableTabsMode`
* Значение по умолчанию: `false`

<!-- Section: Links Target -->

### Изменение целевого адреса ссылок

> При открытии ссылки, которая обычно должна открываться в новом окне или вкладке:
>
> * 0 - Не изменять поведение ссылки (не рекомендуется)
> * 1 - Принудительно открывать ссылки в текущей вкладке (по умолчанию)
> * 2 - Принудительно открывать ссылки в новом окне
> * 3 - Принудительно открывать ссылки в новой вкладке

Определяет, будет ли целевой адрес `_blank` принудительно открываться в текущей вкладке или новом окне.

* Имя параметра: `firefoxpwa.linksTarget`
* Значение по умолчанию: `1`

<!-- Section: Launch Type -->

### Изменение типа запуска

> При запуске веб-приложения, которое уже открыто:
>
> * 0 - Открыть веб-приложение в новом окне (по умолчанию)
> * 1 - Открыть веб-приложение в новой вкладке
> * 2 - Заменить существующую вкладку
> * 3 - Сфокусироваться на существующем окне

Определяет, что происходит, когда веб-приложение запускается, если то же самое веб-приложение уже открыто.

* Имя параметра: `firefoxpwa.launchType`
* Значение по умолчанию: `0`

<!-- Section: Address Bar -->

### Изменение адресной строки

> Отображать адресную строку:
>
> * 0 - Отображать адресную строку, когда вне области (по умолчанию)
> * 1 - Никогда не отображать адресную строку
> * 2 - Всегда отображать адресную строку

Определяет, отображается ли адресная строка только тогда, когда она вне области, всегда или никогда.

* Имя параметра: `firefoxpwa.displayUrlBar`
* Значение по умолчанию: `0`

<!-- Section: Icon Bar -->

### Разрешение скрытия панели значков

!!! warning

    Это скрытая опция только для `about:config`. Она предназначена только для опытных пользователей
    с тайловым оконным менеджером и может вызвать проблемы в противном случае. Когда панель значков
    скрыта, вы не сможете получить доступ к значкам и меню Firefox.

!!! warning

    Когда панель значков скрыта, всплывающие окна для установки расширений, предоставления разрешений сайта и других
    не будут работать. Перед выполнением действий, которые открывают всплывающие окна, вам нужно будет временно
    включить панель значков.

Определяет, разрешено ли скрытие панели значков и отображает опцию на странице настройки.

Это не скрывает панель значков самостоятельно. Она только добавляет запись в меню «панели инструментов»
на странице настройки Firefox, которая позволяет скрыть панель значков. Чтобы временно отобразить
панель значков, используйте сочетание клавиш ++ctrl+alt++. Чтобы навсегда включить её, перейдите на
страницу настройки, *снимите отметку с записи панели значков* в меню и *поставьте её снова*.

* Имя параметра: `firefoxpwa.enableHidingIconBar`
* Значение по умолчанию: `false`

!!! note

    Когда [включен режим вкладок](#show-browser-tabs-and-enable-using-multi-tabbed-web-apps),
    «панель значков» переименовывается в «панель вкладок» в меню страницы настройки. Имя параметра
    и другие функции остаются прежними.

<!-- Section: Keyboard Shortcuts -->

### Отключение сочетаний клавиш

Определяет, включены ли определенные сочетания клавиш или нет.

* Закрыть вкладку (++ctrl+w++)
* Закрыть окно (++ctrl+shift+w++)
* Выйти из приложения (++ctrl+shift+q++)
* Приватный просмотр (++ctrl+shift+p++)

Все сочетания клавиш включены по умолчанию.
